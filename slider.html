<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" type="text/css" href="css/slider.css"/>
    <script src="./js/tool.js"></script>
</head>
<body>
<script>
    window.onload = function() {
        let ul = document.getElementById("ul");
        let dot = document.getElementById("dot");
        let a = document.getElementsByTagName("a");
        let num = document.getElementsByTagName("img").length;
        let index = 0;
        let timer = null;
        ul.style.width = num * 540 + "px";
        dot.style.left = 540 / 2 - num * 18 / 2 + "px";
        a[0].style.backgroundColor = "black";

        function setA(func) {
            move(ul, (-index * 540) - 5, 30, 1, function () {
                func && func();
                for (var i = 0; i < a.length; i++) {
                    a[i].style.backgroundColor = "";
                }
                a[index].style.backgroundColor = "black";
            });
        }

        function change() {
            timer = setInterval(function () {
                index++;
                index %= 6;
                setA(function () {
                    if (index == 5) {
                        index = 0;
                        ul.style.left = "-5px";
                    }
                });
            }, 3000);
        }

        function autoChange() {
            change();
        }

        function clickChange() {
            setA(function () {
                clearInterval(timer);
                autoChange();
            });
        }

        autoChange();
        dot.onclick = function(e){
            e = e || window.event;
            var target = e.target;
            if(target.nodeName == "A"){
                index = parseInt(target.id);
                clickChange();
            }
        };
    }
</script>

<div id="div1">
    <ul id="ul">
        <li><img src="./img/img-1.jpg" alt="无"></li>
        <li><img src="./img/img-2.jpg" alt="无"></li>
        <li><img src="./img/img-3.jpg" alt="无"></li>
        <li><img src="./img/img-4.jpg" alt="无"></li>
        <li><img src="./img/img-5.jpg" alt="无"></li>
        <li><img src="./img/img-1.jpg" alt="无"></li>
    </ul>
    <div id="dot">
        <a id="0" href="javascript:;"></a>
        <a id="1" href="javascript:;"></a>
        <a id="2" href="javascript:;"></a>
        <a id="3" href="javascript:;"></a>
        <a id="4" href="javascript:;"></a>
    </div>
</div>
</body>



